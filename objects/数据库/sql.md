sql语句

sql是结构化查询语句structured Query Language. 1987年被ISO组织标准化.

所有主流的关系型数据库都支持SQL, NoSQL也有很大一部分支持SQL.

SQL语句分为:

DDL数据定义语句, 负责数据库定义, 数据库对象定义, 有CREATE, ALTER与DROP三个语法所组成.

DML数据操作语言, 负责对数据库对象的操作, CRUD增删改.查DCL数据控制语言,负责数据库权限访问控制, 由GRANT和REVOKE两个指令组成.

TCL事务控制语言, 负责处理ACID事务, 支持commit, rollback指令.



语言规范

SQL语句大小写不敏感

一般建议, SQL的关键字, 函数等大写.

SQL语句末尾应该使用分号结束.

注释

多行注释/*注释内容*/

单行注释--注释内容

MYSQL 注释可以使用#

使用空格或缩进来提高可读性.

命名规范

必须以字母开头

可以使用数字, #,$和_

不可使用关键字



DBMS是管理数据库的系统软件, 它实现数据库系统的各种功能.是数据库系统的核心.

DBA:负责数据库的规划,设计,协调,维护和管理等工作.

应用程序指以数据库为基础的应用程序.

对于mysql数据库而言, 数据是存储在文件里的, 而为了能够快速定位到某张表里的某条记录进行查询和修改,我们需要将这些数据已一定的数据结构进行存储,这个数据结构进行存储,这个数据结构就是我们说的索引.数组要求插入的时候保证有序, 这样查找的时候可以利用二分查找法达到O(logn)的时间复杂度O(N).所以有序数组只适合存储静态数据,例如几乎很少变动的配置数据,或者是历史数据,

磁盘io是一个相对很慢的操作,为了提高读取数据,我们应该尽量减少磁盘io操作.而操作系统一般以4kb为一个数据页读取数据, 而mysql一般为16kb作为一个数据块,已经读取的数据块会在内存中进行缓存,如果多次数据读取在同一个数据块,则只需要一次磁盘io,而如果顺序一致的记录在文件也是顺序存储的,就可以一次读取多个数据块,这样范围查询的速度也可以大大提升,显然链表没有这方面的优势.

关系

在关系型数据库中, 关系就是二维表,有行和列组成.

行Row,也称为记录record, 元组.

列column, 也称为字段field, 属性.

字段的取值范围叫做域domain.

维数:关系的维数指关系中属性的个数.

基数:元组的个数

注意在关系中, 属性的顺序并不重要,理论上,  元组顺序也不重要,但是由于元组顺序与存储相关,会影响效率.

候选键

关系中,能唯一标识一条元组的属性或属性集合.称为候选键.

主键:

表中一列或者多列组成唯一的key,也就是通过这一个或者多个列能唯一的标识一条记录, 几倍选择的候选键.主键的列不能包括空值null, 主键往往设置为整型, 长整型.且自增.

表中可以没有主键, 但是, 一般表设计中, 往往都会有主键, 以避免记录重复.

外键:

严格来说, 当一个关系中的某个属性或属性集合与另一个关系的候选键匹配时, 就称为这个属性或属性集合时外键.

索引INdex

可以看做是一本字典的目录, 为了快速检索用的, 空间换时间, 显著提高查询效率.

可以对一列或者多列字段设定索引.

主键索引, 主键会自动建立主键索引, 主键本身就是为了快速定位唯一记录的,

唯一索引, 表中的索引列组成的索引必须唯一, 但可以为空, 非空值必须唯一. 

普通索引, 没有唯一性的要求, 就是建了一个字典的目录而已,

约束

为了保证数据的完整正确, 数据模型还必须支持完整性约束, 

必须有值约束.

某些列的值必须有值, 不许为空null

域约束

限定了表中字段的取值范围,

实体完整性, 

主键约束定义了主键, 就定义了主键约束, 主键不重复且唯一, 不能为空. 

引用完整性, 

外键定义中, 可以不是引用另一张表的主键,但是, 往往实际只会关注引用主键.

外键:在表中的列, 引用了表中的主键, 表b中列就是外键.

a表称为主表, b表称为从表.

视图:

也称虚表, 看起来像表, 它是由查询语句生成的,可以通过视图进行crud操作.

简化操作, 将复杂查询sql语句定义为视图, 可以简化查询.

数据安全, 视图可以只显示真实表的部分列, 或计算后的结果. 从而隐藏真实表的数据.

关系:在关系数据库中, 关系就是二维表, 

关系操作就是对表的操作.

选择:又称为限制. 是从关系中选择出满足给定条件的元组.

投影:在关系上投影就是从选择出若干属性列组成新的关系,

连接 : 将不同的两个关系连接成一个关系.

